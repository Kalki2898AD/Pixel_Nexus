<!DOCTYPE html>
<html>
    <head>
        <title>poitns collector</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <link rel="icon" href="logo.webp">
        <style>
            body {
                background-color: rgba(0, 9, 34, 0.889);
                color: white;
                font-weight: bold;
                font-size: 27px;
                text-align: center;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
            }
            .form-container {
                background-color: #1a1a1a;
                padding: 20px;
                border-radius: 10px;
            }
            input[type="number"] {
                padding: 10px;
                border-radius: 5px;
                border: none;
                width: 250px;
            }
            ::-webkit-scrollbar {
                width: 12px;
            }
            ::-webkit-scrollbar-track {
                background: #333;
            }
            ::-webkit-scrollbar-thumb {
                background-color: #555;
                border-radius: 6px;
                border: 3px solid #333;
            }
            ::-webkit-scrollbar-thumb:hover {
                background-color: #999;
            }
        </style>
    </head>
    <body>
        <div class="form-container">
            <h2>Enter Your Score</h2><br>
            <input type="number" id="scoreInput" placeholder="Enter score" min="500" max="999999" required>
            <br><br>
            <button class="btn btn-primary" id="submitScoreBtn">Submit Score</button>
        </div>
    </body>
    <script>
        document.getElementById('submitScoreBtn').addEventListener('click', function() {
            var username = sessionStorage.getItem('username');
            var score = document.getElementById('scoreInput').value;
            if (username && score) {
                var storedUserDataString = localStorage.getItem(username);
                var storedUserData = storedUserDataString ? JSON.parse(storedUserDataString) : null;
                if (storedUserData) {
                    var currentScore = storedUserData.points || 0;
                    var newScore = parseInt(score, 10);
                    if (!isNaN(newScore)) {
                        if (newScore < 100 || newScore > 999999) {
                            alert("Please enter a score between 100 and 999999.");
                            return;
                        }
                        var updatedScore = currentScore + newScore;
                        if(updatedScore>999999){
                            alert("please send your points, because you have reached the maximum limit");
                            window.location.href='index.html';
                            return;
                        }
                        storedUserData.points = updatedScore;
                        localStorage.setItem(username, JSON.stringify(storedUserData));
                        alert("Score submitted!");
                    } else {
                        alert("Please enter a valid numeric score.");
                    }
                } else {
                    alert("User data not found. Please log in again.");
                }
            } else {
                alert("Please log in and enter a valid score.");
            }
            window.location.href = 'index.html';
        });
        document.addEventListener('DOMContentLoaded', function () {
            const username = sessionStorage.getItem('username');
            if (username) {
                const userData = JSON.parse(localStorage.getItem(username));
                const savedTextSize = userData.textSize || '16px';
                document.body.style.fontSize = savedTextSize;
            }
        });
    </script>
    
</html>